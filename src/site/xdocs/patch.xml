<?xml version="1.0"?>
<!--
/*
 * Copyright  2004-2005 Stefan Reuter
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 *
 */
-->
<document>
	<properties>
		<author email="srt at users.sourceforge.net">Stefan Reuter</author>
		<title>How To Create and Submit a Patch</title>
	</properties>
	<meta name="keywords" content="Asterisk,asterisk,Java,java,Manager API,FastAGI,AGI"/>
	<body>
		<section name="How To Create and Submit a Patch">
			
			<p>This documents how to create and submit patches for Asterisk-Java.</p>
			
			<subsection name="Introduction">
				<p>A patch is exactly what the word says: a small piece of code used to 
					repair a breach. It is normally a plain text file containing only 
					the differences between the current version of the code and the 
					fixed version.</p>
				<p>Often patches are also used to submit enhancements.</p>
			</subsection>

			<subsection name="Generating a Patch">
				<p>The preferred way of creating a patch is to create it against latest 
					CVS. This ensures that the patch works with the latest version of 
					the source code and makes it easier to apply the patch.</p>
				<p>To generate the patch you need to check out a copy of the source code 
					from CVS. Look a the <a href="cvs-usage.html">CVS Howto</a> for
					the details.</p>
				<p>After you have made the changes to the source code and 
					made sure it compiles and works as expected, you can create the 
					patch file using the command 
					<code>cvs diff -u &gt; /path/to/patchfile.patch</code>.</p>
				<p>It is recommended to include the <code>diff -u</code> line 
					in <code>~/.cvsrc</code>.</p>
				<p>If you do not have access to CVS you can generate the patch against 
					the latest release.</p>
				<p>To generate the patch you will need two copies of the source code:
					one that is unmodified and one containing your changes to the source.
					Start by downloading the source code of the latest release, extract 
					it and make a copy of the entire source directory. After you have 
					made your changes to one of the source directories and made sure it 
					compiles and works as expected, you can create the patch file using 
					the command 
					<code>diff -ru /path/to/unmodified/source /path/to/modified/source &gt; /path/to/patchfile.patch</code>.</p>
			</subsection>

			<subsection name="Sending a Patch">
				<p>The preferred way to submit a patch is via the 
					<a href="http://jira.reucon.com/browse/AJ">Bug Tracker</a>.
					The patch can be reviewed there in public and other suggestions
					can be discussed.</p>
			</subsection>

		</section>
	</body>
</document>